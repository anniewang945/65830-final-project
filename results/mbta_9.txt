===============
total number of tokens in the current prompt:443

Generated query:
SELECT s.station_name, so.route_id, r.line_id, MAX(route_cnt) as total_routes
FROM stations s
JOIN (
  SELECT station_id, COUNT(DISTINCT route_id) as route_cnt
  FROM station_orders
  GROUP BY station_id
) so ON s.station_id = so.station_id
JOIN routes r ON so.route_id = r.route_id
ORDER BY r.line_id ASC, so.route_id ASC
LIMIT 1;

error running sql query: no such column: so.route_id
===============
total number of tokens in the current prompt:443

Generated query:
SELECT 
    s.station_name,
    so.route_id,
    r.line_id,
    COUNT(so.route_id) AS route_cnt
FROM 
    station_orders AS so
    JOIN stations AS s ON so.station_id = s.station_id
    JOIN routes AS r ON so.route_id = r.route_id
GROUP BY 
    s.station_name,
    so.route_id,
    r.line_id
HAVING
    COUNT(so.route_id) = (
        SELECT 
            MAX(route_cnt)
        FROM (
            SELECT
                COUNT(route_id) AS route_cnt
            FROM 
                station_orders
            GROUP BY 
                station_id
        ) AS subqry
    )
ORDER BY
    r.line_id ASC,
    so.route_id ASC;

Accuracy of test results (length 0) vs target results (length 12) is 0.0, 12 incorrect

time taken: 6.929072141647339 seconds
===============
total number of tokens in the current prompt:443

Generated query:
SELECT 
  s.station_name,
  so.route_id,
  r.line_id,
  COUNT(so.route_id) AS route_cnt
FROM 
  stations s
JOIN
  station_orders so ON s.station_id = so.station_id
JOIN
  routes r ON so.route_id = r.route_id
GROUP BY
  s.station_id
ORDER BY
  route_cnt DESC,
  r.line_id ASC,
  so.route_id ASC
LIMIT 1;

Accuracy of test results (length 1) vs target results (length 12) is 0.08333333333333333, 11 incorrect

time taken: 4.789290904998779 seconds
===============
total number of tokens in the current prompt:443

Generated query:
SELECT station_name, route_id, line_id, MAX(route_cnt) AS total_routes
FROM (
  SELECT s.station_name, r.route_id, r.line_id, COUNT(*) AS route_cnt
  FROM stations s
  JOIN station_orders so ON s.station_id = so.station_id
  JOIN routes r ON r.route_id = so.route_id
  GROUP BY s.station_id, r.route_id, r.line_id
) AS subquery
GROUP BY station_name, route_id, line_id
ORDER BY line_id ASC, route_id ASC;

Accuracy of test results (length 324) vs target results (length 12) is -27.0, 336 incorrect

time taken: 5.740595817565918 seconds
===============
total number of tokens in the current prompt:443

Generated query:
SELECT 
    s.station_name, 
    r.route_id,
    r.line_id,
    COUNT(*) AS route_cnt
FROM 
    station_orders so
JOIN 
    stations s ON so.station_id = s.station_id
JOIN 
    routes r ON so.route_id = r.route_id
GROUP BY 
    s.station_id, 
    r.route_id,
    r.line_id
HAVING 
    COUNT(*) = (
SELECT 
    MAX(route_cnt)
FROM 
    (
SELECT 
    COUNT(*) as route_cnt
FROM 
    station_orders 
GROUP BY 
    station_id
    ) subquery
)
ORDER BY 
    r.line_id ASC, 
    r.route_id ASC;

Accuracy of test results (length 0) vs target results (length 12) is 0.0, 12 incorrect

time taken: 6.842194080352783 seconds
===============
total number of tokens in the current prompt:443

Generated query:
SELECT 
  stations.station_name,
  station_orders.route_id,
  routes.line_id,
  COUNT(station_orders.route_id) AS route_cnt
FROM 
  stations
JOIN
  station_orders
ON
  stations.station_id = station_orders.station_id
JOIN
  routes
ON
  station_orders.route_id = routes.route_id
GROUP BY 
  stations.station_name, 
  station_orders.route_id, 
  routes.line_id
ORDER BY 
  MAX(routes.line_id) ASC,
  MAX(station_orders.route_id) ASC;

Accuracy of test results (length 324) vs target results (length 12) is -27.0, 336 incorrect

time taken: 5.290937185287476 seconds
