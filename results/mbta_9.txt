===============
total number of tokens in the current prompt:480

Generated query:
SELECT 
    stations.station_name, 
    station_orders.route_id, 
    routes.line_id, 
    COUNT(station_orders.route_id) AS total_routes
FROM 
    station_orders
JOIN 
    stations ON station_orders.station_id = stations.station_id
JOIN 
    routes ON station_orders.route_id = routes.route_id
GROUP BY 
    stations.station_id, station_orders.route_id, routes.line_id
ORDER BY 
    routes.line_id ASC, station_orders.route_id ASC;

Accuracy of test results (length 324) vs target results (length 12) is -27.0, 336 incorrect

time taken: 5.766031980514526 seconds
===============
total number of tokens in the current prompt:480

Generated query:
SELECT stations.station_name, station_orders.route_id, routes.line_id, COUNT(*) as total_routes
FROM stations
JOIN station_orders ON stations.station_id = station_orders.station_id
JOIN routes ON station_orders.route_id = routes.route_id
GROUP BY stations.station_name, station_orders.route_id, routes.line_id
ORDER BY routes.line_id ASC, station_orders.route_id ASC;

Accuracy of test results (length 324) vs target results (length 12) is -27.0, 336 incorrect

time taken: 3.6831178665161133 seconds
===============
total number of tokens in the current prompt:480

Generated query:
SELECT 
  stations.station_name, 
  station_orders.route_id, 
  routes.line_id, 
  COUNT(station_orders.route_id) as total_route_count
FROM 
  station_orders 
JOIN 
  stations ON stations.station_id = station_orders.station_id
JOIN 
  routes ON routes.route_id = station_orders.route_id
GROUP BY 
  station_orders.station_id
ORDER BY 
  routes.line_id ASC, 
  station_orders.route_id ASC
LIMIT 1;

Accuracy of test results (length 1) vs target results (length 12) is -0.08333333333333333, 13 incorrect

time taken: 4.704298973083496 seconds
===============
total number of tokens in the current prompt:480

Generated query:
SELECT stations.station_name, station_orders.route_id, routes.line_id, COUNT(station_orders.route_id) as total_routes
FROM station_orders
JOIN stations ON stations.station_id = station_orders.station_id
JOIN routes ON routes.route_id = station_orders.route_id
GROUP BY station_orders.station_id
ORDER BY routes.line_id ASC, station_orders.route_id ASC
LIMIT 1;

Accuracy of test results (length 1) vs target results (length 12) is -0.08333333333333333, 13 incorrect

time taken: 3.88775897026062 seconds
===============
total number of tokens in the current prompt:480

Generated query:
SELECT s.station_name, so.route_id, r.line_id, COUNT(so.route_id) AS num_routes
FROM stations s
JOIN station_orders so ON s.station_id = so.station_id
JOIN routes r ON so.route_id = r.route_id
GROUP BY s.station_id
ORDER BY r.line_id ASC, so.route_id ASC
HAVING COUNT(so.route_id) = (
  SELECT COUNT(route_id)
  FROM station_orders
  GROUP BY station_id
  ORDER BY COUNT(route_id) DESC
  LIMIT 1
);

error running sql query: near "HAVING": syntax error
===============
total number of tokens in the current prompt:480

Generated query:
SELECT 
  stations.station_name, 
  station_orders.route_id, 
  routes.line_id, 
  COUNT(station_orders.route_id) AS total_routes
FROM 
  station_orders
  JOIN stations ON station_orders.station_id = stations.station_id
  JOIN routes ON station_orders.route_id = routes.route_id
GROUP BY 
  stations.station_name,
  station_orders.route_id, 
  routes.line_id
ORDER BY 
  routes.line_id ASC, 
  station_orders.route_id ASC
HAVING COUNT(station_orders.route_id) = (
  SELECT 
    MAX(route_count)
  FROM (
    SELECT 
      COUNT(station_orders.route_id) AS route_count
    FROM
      station_orders
    GROUP BY 
      station_orders.station_id
  ));


error running sql query: near "HAVING": syntax error
