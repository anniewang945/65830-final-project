===============
total number of tokens in the current prompt:436

Generated query:

SELECT s.station_name, rr.total_ons, rr.station_id, rr.line_id, rr.season, l.line_name, rr.time_period_id, rr.direction
FROM rail_ridership rr
JOIN stations s ON rr.station_id = s.station_id
JOIN lines l ON rr.line_id = l.line_id
JOIN time_periods tp ON rr.time_period_id = tp.time_period_id
WHERE rr.season = 'Fall 2018' 
  AND rr.line_id = 'Orange Line' 
  AND rr.direction = 0
  AND rr.total_ons > (
    SELECT AVG(total_ons)
    FROM rail_ridership
    WHERE season = 'Fall 2018' 
      AND line_id = 'Orange Line' 
      AND direction = 0 
      AND time_period_id = '01'
  )
ORDER BY rr.total_ons DESC, s.station_name ASC;


Accuracy of test results (length 0) vs target results (length 5) is 0.0

time taken: 4.542078018188477 seconds
===============
total number of tokens in the current prompt:436

Generated query:

SELECT s.station_name, rr.total_ons, rr.station_id, rr.line_id, rr.season, l.line_name, rr.time_period_id, rr.direction
FROM rail_ridership rr
JOIN stations s ON rr.station_id = s.station_id
JOIN lines l ON rr.line_id = l.line_id
JOIN time_periods tp ON rr.time_period_id = tp.time_period_id
WHERE rr.season = 'Fall 2018'
  AND rr.line_id = 'Orange Line'
  AND tp.time_period_id = '01'
  AND rr.direction = 0
  AND rr.total_ons > (SELECT AVG(rr2.total_ons) 
                      FROM rail_ridership rr2 
                      WHERE rr2.season = rr.season 
                        AND rr2.line_id = rr.line_id 
                        AND rr2.time_period_id = rr.time_period_id 
                        AND rr2.direction = rr.direction)
ORDER BY rr.total_ons DESC, s.station_name ASC;


Accuracy of test results (length 0) vs target results (length 5) is 0.0, 5 incorrect

time taken: 4.017542839050293 seconds
===============
total number of tokens in the current prompt:436

Generated query:

SELECT s.station_name, rr.total_ons, rr.station_id, rr.line_id, rr.season, l.line_name, rr.time_period_id, rr.direction
FROM stations s
JOIN rail_ridership rr ON s.station_id = rr.station_id
JOIN lines l ON rr.line_id = l.line_id
JOIN time_periods tp ON tp.time_period_id = rr.time_period_id
WHERE l.line_name = 'Orange Line'
AND rr.season = 'Fall 2018'
AND tp.time_period_id = '01'
AND rr.direction = 0
AND rr.total_ons > (
  SELECT AVG(total_ons)
  FROM rail_ridership
  WHERE line_id = rr.line_id
  AND season = rr.season
  AND time_period_id = rr.time_period_id
  AND direction = rr.direction
)
ORDER BY rr.total_ons DESC, s.station_name ASC;


Accuracy of test results (length 0) vs target results (length 5) is 0.0, 5 incorrect

time taken: 3.530796766281128 seconds
===============
total number of tokens in the current prompt:436

Generated query:

SELECT s.station_name, r.total_ons, r.station_id, r.line_id, r.season, l.line_name, r.time_period_id, r.direction
FROM rail_ridership r
JOIN stations s ON r.station_id = s.station_id
JOIN lines l ON r.line_id = l.line_id
JOIN (
    SELECT station_id, line_id, season, time_period_id, direction, AVG(total_ons) AS avg_ons
    FROM rail_ridership
    WHERE season = 'Fall 2018' AND line_id = 'Orange Line' AND time_period_id = '01' AND direction = 0
    GROUP BY station_id, line_id, season, time_period_id, direction
) AS avg_ons
ON r.station_id = avg_ons.station_id
AND r.line_id = avg_ons.line_id
AND r.season = avg_ons.season
AND r.time_period_id = avg_ons.time_period_id
AND r.direction = avg_ons.direction
WHERE r.season = 'Fall 2018' AND r.line_id = 'Orange Line' AND r.time_period_id = '01' AND r.direction = 0
AND r.total_ons > avg_ons.avg_ons
ORDER BY r.total_ons DESC, s.station_name ASC;


Accuracy of test results (length 0) vs target results (length 5) is 0.0, 5 incorrect

time taken: 6.6147119998931885 seconds
===============
total number of tokens in the current prompt:436

Generated query:

SELECT s.station_name, rr.total_ons, rr.station_id, rr.line_id, rr.season, l.line_name, rr.time_period_id, rr.direction
FROM rail_ridership rr
JOIN stations s ON rr.station_id = s.station_id
JOIN lines l ON rr.line_id = l.line_id
JOIN time_periods tp ON rr.time_period_id = tp.time_period_id
WHERE rr.season = 'Fall 2018' 
AND rr.line_id = 'Orange Line' 
AND rr.direction = 0 
AND rr.time_period_id = '01' 
AND rr.total_ons > (SELECT AVG(total_ons) 
                    FROM rail_ridership 
                    WHERE season = 'Fall 2018' 
                    AND line_id = 'Orange Line' 
                    AND direction = 0 
                    AND time_period_id = '01')
ORDER BY rr.total_ons DESC, s.station_name ASC;


Accuracy of test results (length 0) vs target results (length 5) is 0.0, 5 incorrect

time taken: 4.735072135925293 seconds
===============
total number of tokens in the current prompt:436

Generated query:

SELECT s.station_name, rr.total_ons, rr.station_id, rr.line_id, rr.season, l.line_name, rr.time_period_id, rr.direction
FROM rail_ridership rr
JOIN stations s ON rr.station_id = s.station_id
JOIN lines l ON rr.line_id = l.line_id
JOIN time_periods tp ON rr.time_period_id = tp.time_period_id
WHERE rr.line_id = 'Orange'
AND rr.season = 'Fall 2018'
AND tp.time_period_id = '01'
AND rr.direction = 0
AND rr.total_ons > (SELECT AVG(total_ons) 
                    FROM rail_ridership 
                    WHERE line_id = 'Orange' 
                    AND season = 'Fall 2018' 
                    AND time_period_id = '01' 
                    AND direction = 0)
ORDER BY rr.total_ons DESC, s.station_name;


Accuracy of test results (length 0) vs target results (length 5) is 0.0, 5 incorrect

time taken: 4.320181131362915 seconds
